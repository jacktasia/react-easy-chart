{"version":3,"sources":["../../modules/bar-chart/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;AAQA;;AAUA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAM,aAAa,EAAnB;;AAEA,IAAM,aAAa,SAAM,UAAN,EAAnB;;IAEqB,Q;;;;wBAEI;AACrB,aAAO;AACL,cAAM,gBAAM,SAAN,CAAgB,KAAhB,CAAsB,UADvB;AAEL,kBAAU,gBAAM,SAAN,CAAgB,KAFrB;AAGL,eAAO,gBAAM,SAAN,CAAgB,MAHlB;AAIL,gBAAQ,gBAAM,SAAN,CAAgB,MAJnB;AAKL,gBAAQ,gBAAM,SAAN,CAAgB,MALnB;AAML,0BAAkB,gBAAM,SAAN,CAAgB,IAN7B;AAOL,yBAAiB,gBAAM,SAAN,CAAgB,IAP5B;AAQL,0BAAkB,gBAAM,SAAN,CAAgB,IAR7B;AASL,sBAAc,gBAAM,SAAN,CAAgB,IATzB;AAUL,qBAAa,gBAAM,SAAN,CAAgB,MAVxB;AAWL,eAAO,gBAAM,SAAN,CAAgB,MAXlB;AAYL,mBAAW,gBAAM,SAAN,CAAgB,IAZtB;AAaL,cAAM,gBAAM,SAAN,CAAgB,IAbjB;AAcL,cAAM,gBAAM,SAAN,CAAgB,IAdjB;AAeL,oBAAY,gBAAM,SAAN,CAAgB,KAAhB,CAAsB;AAChC,aAAG,gBAAM,SAAN,CAAgB,MADa;AAEhC,aAAG,gBAAM,SAAN,CAAgB;AAFa,SAAtB,CAfP;AAmBL,eAAO,gBAAM,SAAN,CAAgB,MAnBlB;AAoBL,eAAO,gBAAM,SAAN,CAAgB,MApBlB;AAqBL,gBAAQ,gBAAM,SAAN,CAAgB,MArBnB;AAsBL,sBAAc,gBAAM,SAAN,CAAgB,KAtBzB;AAuBL,sBAAc,gBAAM,SAAN,CAAgB,KAvBzB;AAwBL,qBAAa,gBAAM,SAAN,CAAgB,MAxBxB;AAyBL,+BAAuB,gBAAM,SAAN,CAAgB,MAzBlC;AA0BL,0BAAkB,gBAAM,SAAN,CAAgB,IA1B7B;AA2BL,kBAAU,gBAAM,SAAN,CAAgB,MA3BrB;AA4BL,qBAAa,gBAAM,SAAN,CAAgB,MA5BxB;AA6BL,qBAAa,gBAAM,SAAN,CAAgB;AA7BxB,OAAP;AA+BD;;;wBAEyB;AACxB,aAAO;AACL,kBAAU,EADL;AAEL,eAAO,GAFF;AAGL,gBAAQ,GAHH;AAIL,kBAAU,EAJL;AAKL,cAAM,KALD;AAML,eAAO,MANF;AAOL,eAAO,QAPF;AAQL,gBAAQ,QARH;AASL,qBAAa,QATR;AAUL,0BAAkB,4BAAM,CAAE,CAVrB;AAWL,yBAAiB,2BAAM,CAAE,CAXpB;AAYL,0BAAkB,4BAAM,CAAE,CAZrB;AAaL,sBAAc,wBAAM,CAAE,CAbjB;AAcL,qBAAa,UAdR;AAeL,oBAAY;AACV,aAAG,EADO;AAEV,aAAG;AAFO;AAfP,OAAP;AAoBD;;;AAED,oBAAY,KAAZ,EAAmB;AAAA;;AAAA,kHACX,KADW;;AAEjB,UAAK,GAAL,GAAW,4BAAe,KAAf,CAAX;AAFiB;AAGlB;;;;wCAEmB;AAClB,UAAM,MAAM,KAAK,IAAL,CAAU,QAAtB;AACA,uCAAoB,GAApB;AACD;;;yCAEoB;AACnB,UAAM,MAAM,KAAK,IAAL,CAAU,QAAtB;AACA,uCAAoB,GAApB;AACD;;;+CAE0B,Q,EAAU,W,EAAa,I,EAAM,I,EAAM,M,EAAQ;AAAA;;AACpE,UAAM,YAAY,aAAa,GAAb,GAAmB,GAAnB,GAAyB,GAA3C;AACA,UAAM,aAAc,SAAS,KAAK,MAAf,GAAyB,EAAzB,GAA8B,IAA9B,GAAqC,IAAxD;AACA,UAAM,YAAY,SAAZ,SAAY,CAAC,CAAD;AAAA,eAAO,OAAK,SAAL,CAAe,CAAf,CAAP;AAAA,OAAlB;AACA,UAAI,aAAJ;AACA,cAAQ,IAAR;AACE,aAAK,MAAL;AACE,iBAAO,yBAAP;AACA,eACG,MADH,CACU,KAAK,GAAL,CAAS,UAAC,CAAD;AAAA,mBAAO,EAAE,SAAF,CAAP;AAAA,WAAT,CADV,EAEG,KAFH,CAES,CAAC,CAAD,EAAI,MAAJ,CAFT,EAGG,OAHH,CAGW,UAHX;AAIA;AACF,aAAK,QAAL;AACE,iBAAO,2BAAP;AACA,eACG,MADH,CAEI,MAAM,OAAN,CAAc,WAAd,IACI,WADJ,CACgB;AADhB,YAEI,CAAC,CAAD,EAAI,YAAI,IAAJ,EAAU,UAAC,CAAD;AAAA,mBAAO,EAAE,SAAF,CAAP;AAAA,WAAV,CAAJ,CAJR,EAKG,KALH,CAMK,aAAa,GAAd,GACI,CAAC,CAAD,EAAI,MAAJ,CADJ,GAEI,CAAC,MAAD,EAAS,CAAT,CARR;AAUA;AACF,aAAK,MAAL;AACE,iBAAO,QAAK,KAAL,EAAP;AACA,eACG,MADH,CAEI,MAAM,OAAN,CAAc,WAAd,IACI,kCAAqB,WAArB,EAAkC,IAAlC,EAAwC,SAAxC,CADJ,GAEI,qBAAO,IAAP,EAAa,UAAC,CAAD;AAAA,mBAAO,UAAU,EAAE,SAAF,CAAV,CAAP;AAAA,WAAb,CAJR,EAKG,KALH,CAMK,aAAa,GAAd,GACI,CAAC,CAAD,EAAI,MAAJ,CADJ,GAEI,CAAC,MAAD,EAAS,CAAT,CARR;AASA;AACF;AACE;AAlCJ;AAoCA,aAAO,IAAP;AACD;;;gCAEW,C,EAAG,C,EAAG,S,EAAW;AAC3B,UAAI,EAAE,KAAN,EAAa,OAAO,EAAE,KAAT;AACb,UAAI,SAAJ,EAAe,OAAO,WAAW,CAAX,CAAP;AACf,aAAO,IAAP;AACD;;;wCAE0B;AAAA,UAAX,CAAW,QAAX,CAAW;AAAA,UAAR,CAAQ,QAAR,CAAQ;AAAA,UAAL,CAAK,QAAL,CAAK;;AACzB,UAAM,OAAO,iCAAc,KAAd,CAAb;AACA,WAAK,YAAL,CAAkB,OAAlB,EAA2B,IAAI,EAAE,IAAN,GAAa,EAAE,KAA1C;AACA,WAAK,YAAL,CAAkB,QAAlB,EAA4B,IAAI,EAAE,GAAN,GAAY,EAAE,MAA1C;AACA,aAAO,IAAP;AACD;;;yCAE0B;AAAA,UAAX,IAAW,SAAX,IAAW;AAAA,UAAL,CAAK,SAAL,CAAK;;AACzB,aAAO,eAAO,IAAP,EACJ,MADI,CACG,GADH,EAEJ,IAFI,CAEC,WAFD,iBAE2B,EAAE,IAF7B,UAEsC,EAAE,GAFxC,OAAP;AAGD;;;uCAEiC;AAAA,UAApB,IAAoB,SAApB,IAAoB;AAAA,UAAd,CAAc,SAAd,CAAc;AAAA,UAAX,CAAW,SAAX,CAAW;AAAA,UAAR,CAAQ,SAAR,CAAQ;AAAA,UAAL,CAAK,SAAL,CAAK;AAAA,mBAO5B,KAAK,KAPuB;AAAA,UAEb,KAFa,UAE9B,UAF8B,CAEhB,CAFgB;AAAA,UAG9B,KAH8B,UAG9B,KAH8B;AAAA,UAI9B,qBAJ8B,UAI9B,qBAJ8B;AAAA,UAK9B,WAL8B,UAK9B,WAL8B;AAAA,UAM9B,gBAN8B,UAM9B,gBAN8B;;;AAShC,UAAM,OAAO,OAAI,IAAJ,GACR,KADQ,CACF,CADE,EAER,MAFQ,CAED,QAFC,CAAb;;AAIA,UAAI,UAAU,MAAV,IAAoB,qBAAxB,EAA+C;AAC7C,aACG,UADH,CACc,QAAK,MAAL,CAAY,qBAAZ,CADd;AAED;;AAED,WACG,QADH,CACY,CADZ,EAEG,WAFH,CAEe,EAFf;;AAIA,UAAI,WAAJ,EAAiB;AACf,aACG,KADH,CACS,WADT;AAED;;AAED,UAAM,QAAQ,KACX,MADW,CACJ,GADI,EAEX,IAFW,CAEN,OAFM,EAEG,QAFH,EAGX,IAHW,CAGN,WAHM,oBAGuB,CAHvB,OAAd;;AAKA,YACG,IADH,CACQ,IADR;;AAGA,UAAI,KAAJ,EAAW;AACT,cACG,MADH,CACU,MADV,EAEG,IAFH,CAEQ,OAFR,EAEiB,OAFjB,EAGG,IAHH,CAGQ,GAHR,EAIK,gBAAD,GACI,CADJ,GAEI,CANR,EAOG,IAPH,CAOQ,GAPR,EAOa,EAAE,MAAF,GAAW,EAPxB,EAQG,KARH,CAQS,aART,EASK,gBAAD,GACI,OADJ,GAEI,KAXR,EAYG,IAZH,CAYQ,KAZR;AAaD;AACF;;;uCAE8B;AAAA,UAAjB,IAAiB,SAAjB,IAAiB;AAAA,UAAX,CAAW,SAAX,CAAW;AAAA,UAAR,CAAQ,SAAR,CAAQ;AAAA,UAAL,CAAK,SAAL,CAAK;AAAA,oBAMzB,KAAK,KANoB;AAAA,UAEV,KAFU,WAE3B,UAF2B,CAEb,CAFa;AAAA,UAG3B,WAH2B,WAG3B,WAH2B;AAAA,UAI3B,gBAJ2B,WAI3B,gBAJ2B;AAAA,UAK3B,IAL2B,WAK3B,IAL2B;;;AAQ7B,UAAM,OAAO,OAAI,IAAJ,GACR,KADQ,CACF,CADE,EAER,MAFQ,CAED,mBAAmB,OAAnB,GAA6B,MAF5B,CAAb;;AAIA,UAAI,WAAJ,EAAiB;AACf,aACG,KADH,CACS,WADT;AAED;;AAED,UAAI,IAAJ,EAAU;AACR,aACG,QADH,CACY,CAAC,CADb,EACgB,CADhB,EAEG,WAFH,CAEe,EAFf;AAGD,OAJD,MAIO;AACL,aACG,WADH,CACe,EADf;AAED;;AAED,UAAM,QAAQ,KACX,MADW,CACJ,GADI,EAEX,IAFW,CAEN,OAFM,EAEG,QAFH,CAAd;;AAIA,YACG,IADH,CACQ,IADR;;AAGA,UAAI,KAAJ,EAAW;AACT,cACG,IADH,CACQ,WADR,EAEK,gBAAD,kBACiB,CADjB,YAEI,iBAJR,EAKG,MALH,CAKU,MALV,EAMG,IANH,CAMQ,OANR,EAMiB,OANjB,EAOG,IAPH,CAOQ,WAPR,EAOqB,aAPrB,EAQG,IARH,CAQQ,GARR,EAQa,CARb,EASG,IATH,CASQ,GATR,EAUK,gBAAD,GACI,CAAC,EAAD,GAAM,EAAE,KADZ,GAEI,KAAK,EAAE,IAZf,EAaG,IAbH,CAaQ,IAbR,EAac,MAbd,EAcG,KAdH,CAcS,aAdT,EAcwB,KAdxB,EAeG,IAfH,CAeQ,KAfR;AAgBD;AACF;;;wCAE+B;AAAA,UAAjB,IAAiB,SAAjB,IAAiB;AAAA,UAAX,CAAW,SAAX,CAAW;AAAA,UAAR,CAAQ,SAAR,CAAQ;AAAA,UAAL,CAAK,SAAL,CAAK;AAAA,oBAS1B,KAAK,KATqB;AAAA,UAE5B,QAF4B,WAE5B,QAF4B;AAAA,UAGV,KAHU,WAG5B,UAH4B,CAGd,EAHc;AAAA,UAI5B,MAJ4B,WAI5B,MAJ4B;AAAA,UAK5B,WAL4B,WAK5B,WAL4B;AAAA,UAM5B,gBAN4B,WAM5B,gBAN4B;AAAA,UAO5B,IAP4B,WAO5B,IAP4B;AAAA,UAQ5B,YAR4B,WAQ5B,YAR4B;;;AAW9B,UAAM,IAAI,KAAK,0BAAL,CAAgC,GAAhC,EAAqC,YAArC,EAAmD,QAAnD,EAA6D,MAA7D,EAAqE,CAArE,CAAV;;AAEA,UAAM,OAAO,OAAI,IAAJ,GACR,KADQ,CACF,CADE,EAER,MAFQ,CAGN,gBAAD,GACI,MADJ,GAEI,OALG,CAAb;;AAOA,UAAI,WAAJ,EAAiB;AACf,aACG,KADH,CACS,WADT;AAED;;AAED,UAAI,IAAJ,EAAU;AACR,aACG,QADH,CACY,CAAC,CADb,EACgB,CADhB,EAEG,WAFH,CAEe,EAFf;AAGD,OAJD,MAIO;AACL,aACG,WADH,CACe,EADf;AAED;;AAED,UAAM,QAAQ,KACX,MADW,CACJ,GADI,EAEX,IAFW,CAEN,OAFM,EAEG,QAFH,CAAd;;AAIA,YACG,IADH,CACQ,IADR;;AAGA,UAAI,KAAJ,EAAW;AACT,cACG,IADH,CACQ,WADR,EAEK,gBAAD,GACI,iBADJ,kBAEiB,CAFjB,SAFJ,EAKG,MALH,CAKU,MALV,EAMG,IANH,CAMQ,OANR,EAMiB,OANjB,EAOG,IAPH,CAOQ,WAPR,EAOqB,aAPrB,EAQG,IARH,CAQQ,GARR,EAQa,CARb,EASG,IATH,CASQ,GATR,EAUK,gBAAD,GACI,KAAK,EAAE,IADX,GAEI,CAAC,EAAD,GAAM,EAAE,KAZhB,EAaG,IAbH,CAaQ,IAbR,EAac,MAbd,EAcG,KAdH,CAcS,aAdT,EAcwB,KAdxB,EAeG,IAfH,CAeQ,KAfR;AAgBD;AACF;;;0CAEiC;AAAA;;AAAA,UAAjB,IAAiB,SAAjB,IAAiB;AAAA,UAAX,CAAW,SAAX,CAAW;AAAA,UAAR,CAAQ,SAAR,CAAQ;AAAA,UAAL,CAAK,SAAL,CAAK;AAAA,oBAU5B,KAAK,KAVuB;AAAA,UAE9B,IAF8B,WAE9B,IAF8B;AAAA,UAG9B,gBAH8B,WAG9B,gBAH8B;AAAA,UAI9B,eAJ8B,WAI9B,eAJ8B;AAAA,UAK9B,gBAL8B,WAK9B,gBAL8B;AAAA,UAM9B,YAN8B,WAM9B,YAN8B;AAAA,UAO9B,SAP8B,WAO9B,SAP8B;AAAA,UAQ9B,KAR8B,WAQ9B,KAR8B;AAAA,UAS9B,QAT8B,WAS9B,QAT8B;;;AAYhC,UAAM,gBAAgB,SAAhB,aAAgB,CAAC,CAAD;AAAA,eAAO,OAAK,SAAL,CAAe,CAAf,CAAP;AAAA,OAAtB;AACA,UAAM,gBAAgB,SAAhB,aAAgB,CAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,OAAK,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,SAAvB,CAAV;AAAA,OAAtB;;AAEA,UAAM,aAAa,SAAb,UAAa,CAAC,CAAD;AAAA,eAChB,UAAU,MAAX,GACI,EAAE,cAAc,EAAE,CAAhB,CAAF,CADJ,GAEI,EAAE,EAAE,CAAJ,CAHa;AAAA,OAAnB;AAIA,UAAM,aAAa,SAAb,UAAa,CAAC,CAAD;AAAA,eAAO,EAAE,EAAE,CAAJ,CAAP;AAAA,OAAnB;AACA,UAAM,aAAa,SAAb,UAAa;AAAA,eAChB,UAAU,MAAX,GACI,EAAE,SAAF,EADJ,GAEI,QAHa;AAAA,OAAnB;AAIA,UAAM,aAAa,SAAb,UAAa,CAAC,CAAD;AAAA,eAAO,IAAI,EAAE,EAAE,CAAJ,CAAX;AAAA,OAAnB;;AAEA,UAAM,YAAY,SAAZ,SAAY,CAAC,CAAD;AAAA,eAAO,iBAAiB,CAAjB,WAAP;AAAA,OAAlB;AACA,UAAM,WAAW,SAAX,QAAW,CAAC,CAAD;AAAA,eAAO,gBAAgB,CAAhB,WAAP;AAAA,OAAjB;AACA,UAAM,YAAY,SAAZ,SAAY,CAAC,CAAD;AAAA,eAAO,iBAAiB,CAAjB,WAAP;AAAA,OAAlB;AACA,UAAM,QAAQ,SAAR,KAAQ,CAAC,CAAD;AAAA,eAAO,aAAa,CAAb,WAAP;AAAA,OAAd;;AAEA,UAAM,QAAQ,KACX,SADW,CACD,MADC,EACO;AADP,OAEX,IAFW,CAEN,IAFM,CAAd;;AAIA,YACG,KADH,GAEG,MAFH,CAEU,MAFV,EAGG,IAHH,CAGQ,OAHR,EAGiB,KAHjB,EAIG,KAJH,CAIS,MAJT,EAIiB,aAJjB,EAKG,IALH,CAKQ,GALR,EAKa,UALb,EAMG,IANH,CAMQ,GANR,EAMa,UANb,EAOG,IAPH,CAOQ,OAPR,EAOiB,UAPjB,EAQG,IARH,CAQQ,QARR,EAQkB,UARlB,EASG,EATH,CASM,WATN,EASmB,SATnB,EAUG,EAVH,CAUM,UAVN,EAUkB,QAVlB,EAWG,EAXH,CAWM,WAXN,EAWmB,SAXnB,EAYG,EAZH,CAYM,OAZN,EAYe,KAZf;;AAcA,YACG,IADH,GAEG,MAFH;AAGD;;;0CAE8B;AAAA;;AAAA,UAAd,IAAc,SAAd,IAAc;AAAA,UAAR,CAAQ,SAAR,CAAQ;AAAA,UAAL,CAAK,SAAL,CAAK;AAAA,oBAOzB,KAAK,KAPoB;AAAA,UAE3B,QAF2B,WAE3B,QAF2B;AAAA,UAG3B,KAH2B,WAG3B,KAH2B;AAAA,UAI3B,MAJ2B,WAI3B,MAJ2B;AAAA,UAK3B,WAL2B,WAK3B,WAL2B;AAAA,UAM3B,YAN2B,WAM3B,YAN2B;;;AAS7B,UAAM,YAAY,SAAZ,SAAY,CAAC,CAAD;AAAA,eAAO,OAAK,SAAL,CAAe,CAAf,CAAP;AAAA,OAAlB;;AAEA,UAAM,IAAI,KAAK,0BAAL,CAAgC,GAAhC,EAAqC,YAArC,EAAmD,QAAnD,EAA6D,MAA7D,EAAqE,CAArE,CAAV;;AAEA,UAAM,SAAS,kCAAqB,GAArB,EAA0B,MAA1B,EAAkC,SAAlC,CAAf;AACA,UAAM,SAAS,kCAAqB,GAArB,EAA0B,KAA1B,EAAiC,SAAjC,CAAf;;AAEA,UAAM,WAAW,OAAI,IAAJ,GACd,WADc,CACF,WADE,EAEd,CAFc,CAEZ,UAAC,CAAD;AAAA,eAAO,EAAE,OAAO,CAAP,CAAF,CAAP;AAAA,OAFY,EAGd,CAHc,CAGZ,UAAC,CAAD;AAAA,eAAO,EAAE,OAAO,CAAP,CAAF,CAAP;AAAA,OAHY,CAAjB;;AAKA,WAAK,MAAL,CAAY,MAAZ,EACG,KADH,CACS,QADT,EAEG,IAFH,CAEQ,OAFR,EAEiB,MAFjB,EAGG,IAHH,CAGQ,OAHR,EAGiB,aAHjB,EAIG,IAJH,CAIQ,GAJR,EAIa,QAJb;AAKD;;;kCAEa;AAAA,oBAKR,KAAK,KALG;AAAA,UAEV,KAFU,WAEV,KAFU;AAAA,UAGV,gBAHU,WAGV,gBAHU;AAAA,UAIV,IAJU,WAIV,IAJU;;;AAOZ,UAAM,MAAM,KAAK,GAAjB;AACA,UAAM,wBAAsB,GAA5B;AACA,UAAM,aAAa,2BAAc,IAAd,EAAoB,KAApB,EAA2B,gBAA3B,CAAnB;AACA,UAAM,QAAQ,sBAAM,EAAN,yBAAyB,KAAzB,EAAgC,UAAhC,CAAd;;AAEA,aACE;AACE,uBAAe,KADjB;AAEE,eAAO;AAFT,QADF;AAMD;;;kCAEa;AAAA,UAEV,QAFU,GAGR,KAAK,KAHG,CAEV,QAFU;;;AAKZ,aAAQ,SAAS,MAAT,GAAkB,CAA1B;AACD;;;8BAES,C,EAAG;AAAA,UAET,WAFS,GAGP,KAAK,KAHE,CAET,WAFS;;;AAKX,UAAM,oBACJ,WAAW,WAAX,MACA,WAAW,WAAX,IAA0B,6BAAM,WAAN,CAD1B,CADF;;AAIA,aAAO,kBAAkB,CAAlB,CAAP;AACD;;;+CAE0B;AAAA,oBAYrB,KAAK,KAZgB;AAAA,UAEvB,IAFuB,WAEvB,IAFuB;AAAA,UAGvB,IAHuB,WAGvB,IAHuB;AAAA,UAIvB,KAJuB,WAIvB,KAJuB;AAAA,UAKvB,KALuB,WAKvB,KALuB;AAAA,UAMvB,gBANuB,WAMvB,gBANuB;AAAA,UAOvB,YAPuB,WAOvB,YAPuB;AAAA,UAQvB,YARuB,WAQvB,YARuB;AAAA,UASvB,MATuB,WASvB,MATuB;AAAA,UAUvB,KAVuB,WAUvB,KAVuB;AAAA,UAWvB,MAXuB,WAWvB,MAXuB;;;AAczB,UAAM,cAAc,KAAK,WAAL,EAApB;AACA,UAAM,IAAI,6BAAgB,IAAhB,EAAsB,MAAtB,EAA8B,gBAA9B,EAAgD,WAAhD,CAAV;AACA,UAAM,IAAI,oBAAO,KAAP,EAAc,EAAE,IAAhB,EAAsB,EAAE,KAAxB,CAAV;AACA,UAAM,IAAI,oBAAO,MAAP,EAAe,EAAE,GAAjB,EAAsB,EAAE,MAAxB,CAAV;AACA,UAAM,IAAI,KAAK,0BAAL,CAAgC,GAAhC,EAAqC,YAArC,EAAmD,IAAnD,EAAyD,KAAzD,EAAgE,CAAhE,CAAV;AACA,UAAM,IAAI,KAAK,0BAAL,CAAgC,GAAhC,EAAqC,YAArC,EAAmD,IAAnD,EAAyD,KAAzD,EAAgE,CAAhE,CAAV;;AAEA,UAAM,OAAO,KAAK,aAAL,CAAmB,EAAE,IAAF,EAAK,IAAL,EAAQ,IAAR,EAAnB,CAAb;AACA,UAAM,OAAO,KAAK,aAAL,CAAmB,EAAE,UAAF,EAAQ,IAAR,EAAnB,CAAb;;AAEA,aAAO;AACL,YADK;AAEL,YAFK;AAGL,YAHK;AAIL,YAJK;AAKL,YALK;AAML,kBANK;AAOL;AAPK,OAAP;AASD;;;6BAEQ;AAAA,UAEL,IAFK,GAGH,KAAK,KAHF,CAEL,IAFK;;;AAKP,UAAM,cAAc,KAAK,WAAL,EAApB;AACA,UAAM,IAAI,KAAK,wBAAL,EAAV;;AAEA,UAAI,IAAJ,EAAU;AACR,aAAK,WAAL,CAAiB,CAAjB;;AAEA,aAAK,WAAL,CAAiB,CAAjB,EAHQ,CAGa;;AAErB,YAAI,WAAJ,EAAiB;AACf,eAAK,YAAL,CAAkB,CAAlB,EADe,CACO;AACvB;AACF;;AAED,WAAK,cAAL,CAAoB,CAApB;;AAEA,UAAI,WAAJ,EAAiB;AACf,aAAK,cAAL,CAAoB,CAApB;AACD;;AAED,UAAM,MAAM,KAAK,GAAjB;AACA,UAAM,2BAAyB,GAA/B;AAzBO,UA2BL,IA3BK,GA4BH,CA5BG,CA2BL,IA3BK;;;AA8BP,aACE;AAAA;AAAA,UAAK,KAAI,UAAT,EAAoB,WAAW,SAA/B;AACG,aAAK,WAAL,EADH;AAEG,aAAK,OAAL;AAFH,OADF;AAMD;;;EAhfmC,gBAAM,S;;kBAAvB,Q","file":"index.js","sourcesContent":["import React from 'react';\nimport { scaleBand as band, scaleLinear as linear } from 'd3-scale';\nimport {\n  event as lastEvent,\n  select,\n  svg,\n  time,\n  scale,\n  max\n} from 'd3';\nimport {\n  createUniqueID,\n  reduce,\n  calculateMargin,\n  calculateDomainRange,\n  defaultStyles,\n  getAxisStyles,\n  createValueGenerator,\n  createCircularTicks\n} from '../shared';\nimport { extent } from 'd3-array';\nimport { timeParse as parse } from 'd3-time-format';\nimport { createElement } from 'react-faux-dom';\nimport { Style } from 'radium';\nimport merge from 'lodash.merge';\n\nconst dateParser = {};\n\nconst colorScale = scale.category20();\n\nexport default class BarChart extends React.Component {\n\n  static get propTypes() {\n    return {\n      data: React.PropTypes.array.isRequired,\n      lineData: React.PropTypes.array,\n      width: React.PropTypes.number,\n      height: React.PropTypes.number,\n      margin: React.PropTypes.object,\n      mouseOverHandler: React.PropTypes.func,\n      mouseOutHandler: React.PropTypes.func,\n      mouseMoveHandler: React.PropTypes.func,\n      clickHandler: React.PropTypes.func,\n      interpolate: React.PropTypes.string,\n      style: React.PropTypes.object,\n      colorBars: React.PropTypes.bool,\n      axes: React.PropTypes.bool,\n      grid: React.PropTypes.bool,\n      axisLabels: React.PropTypes.shape({\n        x: React.PropTypes.string,\n        y: React.PropTypes.string\n      }),\n      xType: React.PropTypes.string,\n      yType: React.PropTypes.string,\n      y2Type: React.PropTypes.string,\n      xDomainRange: React.PropTypes.array,\n      yDomainRange: React.PropTypes.array,\n      datePattern: React.PropTypes.string,\n      tickTimeDisplayFormat: React.PropTypes.string,\n      yAxisOrientRight: React.PropTypes.bool,\n      barWidth: React.PropTypes.number,\n      xTickNumber: React.PropTypes.number,\n      yTickNumber: React.PropTypes.number\n    };\n  }\n\n  static get defaultProps() {\n    return {\n      lineData: [],\n      width: 400,\n      height: 200,\n      barWidth: 10,\n      axes: false,\n      xType: 'text',\n      yType: 'linear',\n      y2Type: 'linear',\n      interpolate: 'linear',\n      mouseOverHandler: () => {},\n      mouseOutHandler: () => {},\n      mouseMoveHandler: () => {},\n      clickHandler: () => {},\n      datePattern: '%d-%b-%y',\n      axisLabels: {\n        x: '',\n        y: ''\n      }\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.uid = createUniqueID(props);\n  }\n\n  componentDidMount() {\n    const ref = this.refs.barChart;\n    createCircularTicks(ref);\n  }\n\n  componentDidUpdate() {\n    const ref = this.refs.barChart;\n    createCircularTicks(ref);\n  }\n\n  createDomainRangeGenerator(axesType, domainRange, data, type, length) {\n    const dataIndex = axesType === 'x' ? 'x' : 'y';\n    const barPadding = (length / data.length) > 40 ? 0.02 : 0.04;\n    const parseDate = (v) => this.parseDate(v);\n    let axis;\n    switch (type) {\n      case 'text':\n        axis = band();\n        axis\n          .domain(data.map((d) => d[dataIndex]))\n          .range([0, length])\n          .padding(barPadding);\n        break;\n      case 'linear':\n        axis = linear();\n        axis\n          .domain(\n            Array.isArray(domainRange)\n              ? domainRange // calculateDomainRange(domainRange, type, parseDate)\n              : [0, max(data, (d) => d[dataIndex])])\n          .range(\n            (axesType === 'x')\n              ? [0, length]\n              : [length, 0]\n          );\n        break;\n      case 'time':\n        axis = time.scale();\n        axis\n          .domain(\n            Array.isArray(domainRange)\n              ? calculateDomainRange(domainRange, type, parseDate)\n              : extent(data, (d) => parseDate(d[dataIndex])))\n          .range(\n            (axesType === 'x')\n              ? [0, length]\n              : [length, 0]);\n        break;\n      default:\n        break;\n    }\n    return axis;\n  }\n\n  defineColor(i, d, colorBars) {\n    if (d.color) return d.color;\n    if (colorBars) return colorScale(i);\n    return null;\n  }\n\n  createSvgNode({ m, w, h }) {\n    const node = createElement('svg');\n    node.setAttribute('width', w + m.left + m.right);\n    node.setAttribute('height', h + m.top + m.bottom);\n    return node;\n  }\n\n  createSvgRoot({ node, m }) {\n    return select(node)\n      .append('g')\n      .attr('transform', `translate(${m.left}, ${m.top})`);\n  }\n\n  createXAxis({ root, m, w, h, x }) {\n    const {\n      axisLabels: { x: label },\n      xType,\n      tickTimeDisplayFormat,\n      xTickNumber,\n      yAxisOrientRight\n    } = this.props;\n\n    const axis = svg.axis()\n        .scale(x)\n        .orient('bottom');\n\n    if (xType === 'time' && tickTimeDisplayFormat) {\n      axis\n        .tickFormat(time.format(tickTimeDisplayFormat));\n    }\n\n    axis\n      .tickSize(0)\n      .tickPadding(15);\n\n    if (xTickNumber) {\n      axis\n        .ticks(xTickNumber);\n    }\n\n    const group = root\n      .append('g')\n      .attr('class', 'x axis')\n      .attr('transform', `translate(0, ${h})`);\n\n    group\n      .call(axis);\n\n    if (label) {\n      group\n        .append('text')\n        .attr('class', 'label')\n        .attr('x',\n          (yAxisOrientRight)\n            ? 0\n            : w)\n        .attr('y', m.bottom - 10)\n        .style('text-anchor',\n          (yAxisOrientRight)\n            ? 'start'\n            : 'end')\n        .text(label);\n    }\n  }\n\n  createYAxis({ root, m, w, y }) {\n    const {\n      axisLabels: { y: label },\n      yTickNumber,\n      yAxisOrientRight,\n      grid\n    } = this.props;\n\n    const axis = svg.axis()\n        .scale(y)\n        .orient(yAxisOrientRight ? 'right' : 'left');\n\n    if (yTickNumber) {\n      axis\n        .ticks(yTickNumber);\n    }\n\n    if (grid) {\n      axis\n        .tickSize(-w, 6)\n        .tickPadding(12);\n    } else {\n      axis\n        .tickPadding(10);\n    }\n\n    const group = root\n      .append('g')\n      .attr('class', 'y axis');\n\n    group\n      .call(axis);\n\n    if (label) {\n      group\n        .attr('transform',\n          (yAxisOrientRight)\n            ? `translate(${w}, 0)`\n            : 'translate(0, 0)')\n        .append('text')\n        .attr('class', 'label')\n        .attr('transform', 'rotate(-90)')\n        .attr('x', 0)\n        .attr('y',\n          (yAxisOrientRight)\n            ? -25 + m.right\n            : 10 - m.left)\n        .attr('dy', '.9em')\n        .style('text-anchor', 'end')\n        .text(label);\n    }\n  }\n\n  createYAxis2({ root, m, w, h }) {\n    const {\n      lineData,\n      axisLabels: { y2: label },\n      y2Type,\n      yTickNumber,\n      yAxisOrientRight,\n      grid,\n      yDomainRange\n    } = this.props;\n\n    const y = this.createDomainRangeGenerator('y', yDomainRange, lineData, y2Type, h);\n\n    const axis = svg.axis()\n        .scale(y)\n        .orient(\n          (yAxisOrientRight)\n            ? 'left'\n            : 'right');\n\n    if (yTickNumber) {\n      axis\n        .ticks(yTickNumber);\n    }\n\n    if (grid) {\n      axis\n        .tickSize(-w, 6)\n        .tickPadding(12);\n    } else {\n      axis\n        .tickPadding(10);\n    }\n\n    const group = root\n      .append('g')\n      .attr('class', 'y axis');\n\n    group\n      .call(axis);\n\n    if (label) {\n      group\n        .attr('transform',\n          (yAxisOrientRight)\n            ? 'translate(0, 0)'\n            : `translate(${w}, 0)`)\n        .append('text')\n        .attr('class', 'label')\n        .attr('transform', 'rotate(-90)')\n        .attr('x', 0)\n        .attr('y',\n          (yAxisOrientRight)\n            ? 10 - m.left\n            : -25 + m.right)\n        .attr('dy', '.9em')\n        .style('text-anchor', 'end')\n        .text(label);\n    }\n  }\n\n  createBarChart({ root, h, x, y }) {\n    const {\n      data,\n      mouseOverHandler,\n      mouseOutHandler,\n      mouseMoveHandler,\n      clickHandler,\n      colorBars,\n      xType,\n      barWidth\n    } = this.props;\n\n    const calculateDate = (v) => this.parseDate(v);\n    const calculateFill = (d, i) => this.defineColor(i, d, colorBars);\n\n    const calculateX = (d) => (\n      (xType === 'time')\n        ? x(calculateDate(d.x))\n        : x(d.x));\n    const calculateY = (d) => y(d.y);\n    const calculateW = () => (\n      (xType === 'text')\n        ? x.bandwidth()\n        : barWidth);\n    const calculateH = (d) => h - y(d.y);\n\n    const mouseover = (d) => mouseOverHandler(d, lastEvent);\n    const mouseout = (d) => mouseOutHandler(d, lastEvent);\n    const mousemove = (d) => mouseMoveHandler(d, lastEvent);\n    const click = (d) => clickHandler(d, lastEvent);\n\n    const group = root\n      .selectAll('rect') // '.bar'\n      .data(data);\n\n    group\n      .enter()\n      .append('rect')\n      .attr('class', 'bar')\n      .style('fill', calculateFill)\n      .attr('x', calculateX)\n      .attr('y', calculateY)\n      .attr('width', calculateW)\n      .attr('height', calculateH)\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n      .on('mousemove', mousemove)\n      .on('click', click);\n\n    group\n      .exit()\n      .remove();\n  }\n\n  createLinePath({ root, h, x }) {\n    const {\n      lineData,\n      xType,\n      y2Type,\n      interpolate,\n      yDomainRange\n    } = this.props;\n\n    const parseDate = (v) => this.parseDate(v);\n\n    const y = this.createDomainRangeGenerator('y', yDomainRange, lineData, y2Type, h);\n\n    const yValue = createValueGenerator('y', y2Type, parseDate);\n    const xValue = createValueGenerator('x', xType, parseDate);\n\n    const linePath = svg.line()\n      .interpolate(interpolate)\n      .x((d) => x(xValue(d)))\n      .y((d) => y(yValue(d)));\n\n    root.append('path')\n      .datum(lineData)\n      .attr('class', 'line')\n      .attr('style', 'stroke: red')\n      .attr('d', linePath);\n  }\n\n  createStyle() {\n    const {\n      style,\n      yAxisOrientRight,\n      grid\n    } = this.props;\n\n    const uid = this.uid;\n    const scope = `.bar-chart-${uid}`;\n    const axisStyles = getAxisStyles(grid, false, yAxisOrientRight);\n    const rules = merge({}, defaultStyles, style, axisStyles);\n\n    return (\n      <Style\n        scopeSelector={scope}\n        rules={rules}\n      />\n    );\n  }\n\n  hasLineData() {\n    const {\n      lineData\n    } = this.props;\n\n    return (lineData.length > 0);\n  }\n\n  parseDate(v) {\n    const {\n      datePattern\n    } = this.props;\n\n    const datePatternParser = (\n      dateParser[datePattern] || (\n      dateParser[datePattern] = parse(datePattern)));\n\n    return datePatternParser(v);\n  }\n\n  calculateChartParameters() {\n    const {\n      data,\n      axes,\n      xType,\n      yType,\n      yAxisOrientRight,\n      xDomainRange,\n      yDomainRange,\n      margin,\n      width,\n      height\n    } = this.props;\n\n    const hasLineData = this.hasLineData();\n    const m = calculateMargin(axes, margin, yAxisOrientRight, hasLineData);\n    const w = reduce(width, m.left, m.right);\n    const h = reduce(height, m.top, m.bottom);\n    const x = this.createDomainRangeGenerator('x', xDomainRange, data, xType, w);\n    const y = this.createDomainRangeGenerator('y', yDomainRange, data, yType, h);\n\n    const node = this.createSvgNode({ m, w, h });\n    const root = this.createSvgRoot({ node, m });\n\n    return {\n      m,\n      w,\n      h,\n      x,\n      y,\n      node,\n      root\n    };\n  }\n\n  render() {\n    const {\n      axes\n    } = this.props;\n\n    const hasLineData = this.hasLineData();\n    const p = this.calculateChartParameters();\n\n    if (axes) {\n      this.createXAxis(p);\n\n      this.createYAxis(p); // const yAxis = this.createYAxis(p);\n\n      if (hasLineData) {\n        this.createYAxis2(p); // { ...p, yAxis });\n      }\n    }\n\n    this.createBarChart(p);\n\n    if (hasLineData) {\n      this.createLinePath(p);\n    }\n\n    const uid = this.uid;\n    const className = `bar-chart-${uid}`;\n    const {\n      node\n    } = p;\n\n    return (\n      <div ref=\"barChart\" className={className}>\n        {this.createStyle()}\n        {node.toReact()}\n      </div>\n    );\n  }\n}\n"]}